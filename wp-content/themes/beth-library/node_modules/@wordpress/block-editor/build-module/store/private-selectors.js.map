{"version":3,"names":["createSelector","getBlockOrder","getBlockParents","getBlockEditingMode","isBlockInterfaceHidden","state","getLastInsertedBlocksClientIds","lastBlockInserted","clientIds","isBlockSubtreeDisabled","clientId","isChildSubtreeDisabled","childClientId","mode","blockEditingModes","get","undefined","every","blocks","parents","getEnabledClientIdsTree","rootClientId","flatMap","innerBlocks","order","settings","templateLock","blockListSettings","getEnabledBlockParents","ascending","filter","parent","getRemovalPromptData","removalPromptData","getBlockRemovalRules","blockRemovalRules"],"sources":["@wordpress/block-editor/src/store/private-selectors.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport createSelector from 'rememo';\n\n/**\n * Internal dependencies\n */\nimport {\n\tgetBlockOrder,\n\tgetBlockParents,\n\tgetBlockEditingMode,\n} from './selectors';\n\n/**\n * Returns true if the block interface is hidden, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the block toolbar is hidden.\n */\nexport function isBlockInterfaceHidden( state ) {\n\treturn state.isBlockInterfaceHidden;\n}\n\n/**\n * Gets the client ids of the last inserted blocks.\n *\n * @param {Object} state Global application state.\n * @return {Array|undefined} Client Ids of the last inserted block(s).\n */\nexport function getLastInsertedBlocksClientIds( state ) {\n\treturn state?.lastBlockInserted?.clientIds;\n}\n\n/**\n * Returns true if the block with the given client ID and all of its descendants\n * have an editing mode of 'disabled', or false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {string} clientId The block client ID.\n *\n * @return {boolean} Whether the block and its descendants are disabled.\n */\nexport const isBlockSubtreeDisabled = createSelector(\n\t( state, clientId ) => {\n\t\tconst isChildSubtreeDisabled = ( childClientId ) => {\n\t\t\tconst mode = state.blockEditingModes.get( childClientId );\n\t\t\treturn (\n\t\t\t\t( mode === undefined || mode === 'disabled' ) &&\n\t\t\t\tgetBlockOrder( state, childClientId ).every(\n\t\t\t\t\tisChildSubtreeDisabled\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\t\treturn (\n\t\t\tgetBlockEditingMode( state, clientId ) === 'disabled' &&\n\t\t\tgetBlockOrder( state, clientId ).every( isChildSubtreeDisabled )\n\t\t);\n\t},\n\t( state ) => [ state.blockEditingModes, state.blocks.parents ]\n);\n\n/**\n * Returns a tree of block objects with only clientID and innerBlocks set.\n * Blocks with a 'disabled' editing mode are not included.\n *\n * @param {Object}  state        Global application state.\n * @param {?string} rootClientId Optional root client ID of block list.\n *\n * @return {Object[]} Tree of block objects with only clientID and innerBlocks set.\n */\nexport const getEnabledClientIdsTree = createSelector(\n\t( state, rootClientId = '' ) => {\n\t\treturn getBlockOrder( state, rootClientId ).flatMap( ( clientId ) => {\n\t\t\tif ( getBlockEditingMode( state, clientId ) !== 'disabled' ) {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\tinnerBlocks: getEnabledClientIdsTree( state, clientId ),\n\t\t\t\t\t},\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn getEnabledClientIdsTree( state, clientId );\n\t\t} );\n\t},\n\t( state ) => [\n\t\tstate.blocks.order,\n\t\tstate.blockEditingModes,\n\t\tstate.settings.templateLock,\n\t\tstate.blockListSettings,\n\t]\n);\n\n/**\n * Returns a list of a given block's ancestors, from top to bottom. Blocks with\n * a 'disabled' editing mode are excluded.\n *\n * @see getBlockParents\n *\n * @param {Object}  state     Global application state.\n * @param {string}  clientId  The block client ID.\n * @param {boolean} ascending Order results from bottom to top (true) or top\n *                            to bottom (false).\n */\nexport const getEnabledBlockParents = createSelector(\n\t( state, clientId, ascending = false ) => {\n\t\treturn getBlockParents( state, clientId, ascending ).filter(\n\t\t\t( parent ) => getBlockEditingMode( state, parent ) !== 'disabled'\n\t\t);\n\t},\n\t( state ) => [\n\t\tstate.blocks.parents,\n\t\tstate.blockEditingModes,\n\t\tstate.settings.templateLock,\n\t\tstate.blockListSettings,\n\t]\n);\n\n/**\n * Selector that returns the data needed to display a prompt when certain\n * blocks are removed, or `false` if no such prompt is requested.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object|false} Data for removal prompt display, if any.\n */\nexport function getRemovalPromptData( state ) {\n\treturn state.removalPromptData;\n}\n\n/**\n * Returns true if removal prompt exists, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether removal prompt exists.\n */\nexport function getBlockRemovalRules( state ) {\n\treturn state.blockRemovalRules;\n}\n"],"mappings":"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"}