{"version":3,"names":["Pressable","View","__","RichText","compose","decodeEntities","withSelect","withDispatch","getDefaultBlockName","BlockInsertionPoint","styles","store","blockEditorStore","hitSlop","top","bottom","left","right","noop","DefaultBlockAppender","isLocked","isVisible","onAppend","placeholder","containerStyle","showSeparator","value","appenderStyles","blockHolder","createElement","onPress","style","pointerEvents","onChange","select","ownProps","getBlockCount","getBlockName","isBlockValid","getTemplateLock","isEmpty","rootClientId","isLastBlockDefault","lastBlockClientId","isLastBlockValid","dispatch","insertDefaultBlock","startTyping","undefined"],"sources":["@wordpress/block-editor/src/components/default-block-appender/index.native.js"],"sourcesContent":["/**\n * External dependencies\n */\nimport { Pressable, View } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { RichText } from '@wordpress/block-editor';\nimport { compose } from '@wordpress/compose';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport BlockInsertionPoint from '../block-list/insertion-point';\nimport styles from './style.scss';\nimport { store as blockEditorStore } from '../../store';\n\nconst hitSlop = { top: 22, bottom: 22, left: 22, right: 22 };\nconst noop = () => {};\n\nexport function DefaultBlockAppender( {\n\tisLocked,\n\tisVisible,\n\tonAppend,\n\tplaceholder,\n\tcontainerStyle,\n\tshowSeparator,\n} ) {\n\tif ( isLocked || ! isVisible ) {\n\t\treturn null;\n\t}\n\n\tconst value =\n\t\ttypeof placeholder === 'string'\n\t\t\t? decodeEntities( placeholder )\n\t\t\t: __( 'Start writingâ€¦' );\n\n\tconst appenderStyles = [\n\t\tstyles.blockHolder,\n\t\tshowSeparator && containerStyle,\n\t];\n\n\treturn (\n\t\t<Pressable onPress={ onAppend } hitSlop={ hitSlop }>\n\t\t\t<View style={ appenderStyles } pointerEvents=\"box-only\">\n\t\t\t\t{ showSeparator ? (\n\t\t\t\t\t<BlockInsertionPoint />\n\t\t\t\t) : (\n\t\t\t\t\t<RichText placeholder={ value } onChange={ noop } />\n\t\t\t\t) }\n\t\t\t</View>\n\t\t</Pressable>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select, ownProps ) => {\n\t\tconst { getBlockCount, getBlockName, isBlockValid, getTemplateLock } =\n\t\t\tselect( blockEditorStore );\n\n\t\tconst isEmpty = ! getBlockCount( ownProps.rootClientId );\n\t\tconst isLastBlockDefault =\n\t\t\tgetBlockName( ownProps.lastBlockClientId ) ===\n\t\t\tgetDefaultBlockName();\n\t\tconst isLastBlockValid = isBlockValid( ownProps.lastBlockClientId );\n\n\t\treturn {\n\t\t\tisVisible: isEmpty || ! isLastBlockDefault || ! isLastBlockValid,\n\t\t\tisLocked: !! getTemplateLock( ownProps.rootClientId ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => {\n\t\tconst { insertDefaultBlock, startTyping } =\n\t\t\tdispatch( blockEditorStore );\n\n\t\treturn {\n\t\t\tonAppend() {\n\t\t\t\tconst { rootClientId } = ownProps;\n\n\t\t\t\tinsertDefaultBlock( undefined, rootClientId );\n\t\t\t\tstartTyping();\n\t\t\t},\n\t\t};\n\t} )\n)( DefaultBlockAppender );\n"],"mappings":";AAAA;AACA;AACA;AACA,SAASA,SAAS,EAAEC,IAAI,QAAQ,cAAc;;AAE9C;AACA;AACA;AACA,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,QAAQ,QAAQ,yBAAyB;AAClD,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,SAASC,cAAc,QAAQ,0BAA0B;AACzD,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAC1D,SAASC,mBAAmB,QAAQ,mBAAmB;;AAEvD;AACA;AACA;AACA,OAAOC,mBAAmB,MAAM,+BAA+B;AAC/D,OAAOC,MAAM,MAAM,cAAc;AACjC,SAASC,KAAK,IAAIC,gBAAgB,QAAQ,aAAa;AAEvD,MAAMC,OAAO,GAAG;EAAEC,GAAG,EAAE,EAAE;EAAEC,MAAM,EAAE,EAAE;EAAEC,IAAI,EAAE,EAAE;EAAEC,KAAK,EAAE;AAAG,CAAC;AAC5D,MAAMC,IAAI,GAAGA,CAAA,KAAM,CAAC,CAAC;AAErB,OAAO,SAASC,oBAAoBA,CAAE;EACrCC,QAAQ;EACRC,SAAS;EACTC,QAAQ;EACRC,WAAW;EACXC,cAAc;EACdC;AACD,CAAC,EAAG;EACH,IAAKL,QAAQ,IAAI,CAAEC,SAAS,EAAG;IAC9B,OAAO,IAAI;EACZ;EAEA,MAAMK,KAAK,GACV,OAAOH,WAAW,KAAK,QAAQ,GAC5BlB,cAAc,CAAEkB,WAAY,CAAC,GAC7BrB,EAAE,CAAE,gBAAiB,CAAC;EAE1B,MAAMyB,cAAc,GAAG,CACtBjB,MAAM,CAACkB,WAAW,EAClBH,aAAa,IAAID,cAAc,CAC/B;EAED,OACCK,aAAA,CAAC7B,SAAS;IAAC8B,OAAO,EAAGR,QAAU;IAACT,OAAO,EAAGA;EAAS,GAClDgB,aAAA,CAAC5B,IAAI;IAAC8B,KAAK,EAAGJ,cAAgB;IAACK,aAAa,EAAC;EAAU,GACpDP,aAAa,GACdI,aAAA,CAACpB,mBAAmB,MAAE,CAAC,GAEvBoB,aAAA,CAAC1B,QAAQ;IAACoB,WAAW,EAAGG,KAAO;IAACO,QAAQ,EAAGf;EAAM,CAAE,CAE/C,CACI,CAAC;AAEd;AAEA,eAAed,OAAO,CACrBE,UAAU,CAAE,CAAE4B,MAAM,EAAEC,QAAQ,KAAM;EACnC,MAAM;IAAEC,aAAa;IAAEC,YAAY;IAAEC,YAAY;IAAEC;EAAgB,CAAC,GACnEL,MAAM,CAAEtB,gBAAiB,CAAC;EAE3B,MAAM4B,OAAO,GAAG,CAAEJ,aAAa,CAAED,QAAQ,CAACM,YAAa,CAAC;EACxD,MAAMC,kBAAkB,GACvBL,YAAY,CAAEF,QAAQ,CAACQ,iBAAkB,CAAC,KAC1CnC,mBAAmB,CAAC,CAAC;EACtB,MAAMoC,gBAAgB,GAAGN,YAAY,CAAEH,QAAQ,CAACQ,iBAAkB,CAAC;EAEnE,OAAO;IACNtB,SAAS,EAAEmB,OAAO,IAAI,CAAEE,kBAAkB,IAAI,CAAEE,gBAAgB;IAChExB,QAAQ,EAAE,CAAC,CAAEmB,eAAe,CAAEJ,QAAQ,CAACM,YAAa;EACrD,CAAC;AACF,CAAE,CAAC,EACHlC,YAAY,CAAE,CAAEsC,QAAQ,EAAEV,QAAQ,KAAM;EACvC,MAAM;IAAEW,kBAAkB;IAAEC;EAAY,CAAC,GACxCF,QAAQ,CAAEjC,gBAAiB,CAAC;EAE7B,OAAO;IACNU,QAAQA,CAAA,EAAG;MACV,MAAM;QAAEmB;MAAa,CAAC,GAAGN,QAAQ;MAEjCW,kBAAkB,CAAEE,SAAS,EAAEP,YAAa,CAAC;MAC7CM,WAAW,CAAC,CAAC;IACd;EACD,CAAC;AACF,CAAE,CACH,CAAC,CAAE5B,oBAAqB,CAAC"}