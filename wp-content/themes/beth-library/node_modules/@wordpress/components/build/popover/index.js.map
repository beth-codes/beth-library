{"version":3,"names":["_element","require","_classnames","_interopRequireDefault","_reactDom","_framerMotion","_compose","_icons","_deprecated","_primitives","_dom","_button","_scrollLock","_slotFill","_utils","_limitShift","_overlayMiddlewares","SLOT_NAME","exports","ArrowTriangle","createElement","SVG","xmlns","viewBox","className","role","Path","d","vectorEffect","AnimatedWrapper","forwardRef","style","receivedInlineStyles","placement","shouldAnimate","props","forwardedRef","shouldReduceMotion","useReducedMotion","motionInlineStyles","otherMotionProps","useMemo","placementToMotionAnimationProps","computedAnimationProps","animate","motion","div","ref","slotNameContext","createContext","undefined","UnforwardedPopover","_frameOffsetRef$curre","_frameOffsetRef$curre2","headerTitle","onClose","children","noArrow","position","placementProp","offset","offsetProp","focusOnMount","anchor","expandOnMobile","onFocusOutside","__unstableSlotName","flip","resize","shift","variant","__unstableForcePosition","anchorRef","anchorRect","getAnchorRect","isAlternate","contentProps","computedFlipProp","computedResizeProp","deprecated","since","version","alternative","computedVariant","arrowRef","useRef","fallbackReferenceElement","setFallbackReferenceElement","useState","referenceOwnerDocument","setReferenceOwnerDocument","anchorRefFallback","useCallback","node","isMobileViewport","useViewportMatch","isExpanded","hasArrow","normalizedPlacementFromProps","positionToPlacement","frameOffsetRef","getFrameOffset","middleware","overlayMiddlewares","name","fn","x","y","current","data","amount","offsetMiddleware","flipMiddleware","size","apply","sizeProps","_refs$floating$curren","firstElementChild","refs","floating","HTMLElement","Object","assign","maxHeight","availableHeight","overflow","shiftMiddleware","crossAxis","limiter","customLimitShift","padding","arrow","element","filter","m","slotName","useContext","slot","useSlot","onDialogClose","type","event","dialogRef","dialogProps","useDialog","__unstableOnClose","reference","referenceCallbackRef","strategy","update","computedPlacement","middlewareData","arrowData","useFloating","whileElementsMounted","referenceParam","floatingParam","updateParam","autoUpdate","animationFrame","arrowCallbackRef","anchorRefTop","top","anchorRefBottom","bottom","anchorRefStartContainer","startContainer","anchorRefCurrent","useLayoutEffect","resultingReferenceOwnerDoc","getReferenceOwnerDocument","fallbackDocument","document","scale","getFrameScale","resultingReferenceElement","getReferenceElement","ownerDocument","defaultView","frameElement","scrollContainer","getScrollContainer","updateFrameOffset","addEventListener","removeEventListener","mergedFloatingRef","useMergeRefs","content","classnames","tabIndex","left","computePopoverPosition","default","icon","close","onClick","split","join","Number","isFinite","Fill","Popover","PopoverSlot","Slot","bubblesVirtually","__unstableSlotNameProvider","Provider","_default"],"sources":["@wordpress/components/src/popover/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ForwardedRef, SyntheticEvent, RefCallback } from 'react';\nimport classnames from 'classnames';\nimport type { Middleware, MiddlewareArguments } from '@floating-ui/react-dom';\nimport {\n\tuseFloating,\n\tflip as flipMiddleware,\n\tshift as shiftMiddleware,\n\tautoUpdate,\n\tarrow,\n\toffset as offsetMiddleware,\n\tsize,\n} from '@floating-ui/react-dom';\n// eslint-disable-next-line no-restricted-imports\nimport type { HTMLMotionProps, MotionProps } from 'framer-motion';\n// eslint-disable-next-line no-restricted-imports\nimport { motion, useReducedMotion } from 'framer-motion';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseRef,\n\tuseLayoutEffect,\n\tforwardRef,\n\tcreateContext,\n\tuseContext,\n\tuseMemo,\n\tuseState,\n\tuseCallback,\n} from '@wordpress/element';\nimport {\n\tuseViewportMatch,\n\tuseMergeRefs,\n\t__experimentalUseDialog as useDialog,\n} from '@wordpress/compose';\nimport { close } from '@wordpress/icons';\nimport deprecated from '@wordpress/deprecated';\nimport { Path, SVG } from '@wordpress/primitives';\nimport { getScrollContainer } from '@wordpress/dom';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport ScrollLock from '../scroll-lock';\nimport { Slot, Fill, useSlot } from '../slot-fill';\nimport {\n\tcomputePopoverPosition,\n\tgetFrameOffset,\n\tgetFrameScale,\n\tpositionToPlacement,\n\tplacementToMotionAnimationProps,\n\tgetReferenceOwnerDocument,\n\tgetReferenceElement,\n} from './utils';\nimport type { WordPressComponentProps } from '../ui/context';\nimport type {\n\tPopoverProps,\n\tAnimatedWrapperProps,\n\tPopoverAnchorRefReference,\n\tPopoverAnchorRefTopBottom,\n} from './types';\nimport { limitShift as customLimitShift } from './limit-shift';\nimport { overlayMiddlewares } from './overlay-middlewares';\n\n/**\n * Name of slot in which popover should fill.\n *\n * @type {string}\n */\nexport const SLOT_NAME = 'Popover';\n\n// An SVG displaying a triangle facing down, filled with a solid\n// color and bordered in such a way to create an arrow-like effect.\n// Keeping the SVG's viewbox squared simplify the arrow positioning\n// calculations.\nconst ArrowTriangle = () => (\n\t<SVG\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox={ `0 0 100 100` }\n\t\tclassName=\"components-popover__triangle\"\n\t\trole=\"presentation\"\n\t>\n\t\t<Path\n\t\t\tclassName=\"components-popover__triangle-bg\"\n\t\t\td=\"M 0 0 L 50 50 L 100 0\"\n\t\t/>\n\t\t<Path\n\t\t\tclassName=\"components-popover__triangle-border\"\n\t\t\td=\"M 0 0 L 50 50 L 100 0\"\n\t\t\tvectorEffect=\"non-scaling-stroke\"\n\t\t/>\n\t</SVG>\n);\n\nconst AnimatedWrapper = forwardRef(\n\t(\n\t\t{\n\t\t\tstyle: receivedInlineStyles,\n\t\t\tplacement,\n\t\t\tshouldAnimate = false,\n\t\t\t...props\n\t\t}: HTMLMotionProps< 'div' > & AnimatedWrapperProps,\n\t\tforwardedRef: ForwardedRef< any >\n\t) => {\n\t\tconst shouldReduceMotion = useReducedMotion();\n\n\t\tconst { style: motionInlineStyles, ...otherMotionProps } = useMemo(\n\t\t\t() => placementToMotionAnimationProps( placement ),\n\t\t\t[ placement ]\n\t\t);\n\n\t\tconst computedAnimationProps: HTMLMotionProps< 'div' > =\n\t\t\tshouldAnimate && ! shouldReduceMotion\n\t\t\t\t? {\n\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t...motionInlineStyles,\n\t\t\t\t\t\t\t...receivedInlineStyles,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t...otherMotionProps,\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tanimate: false,\n\t\t\t\t\t\tstyle: receivedInlineStyles,\n\t\t\t\t  };\n\n\t\treturn (\n\t\t\t<motion.div\n\t\t\t\t{ ...computedAnimationProps }\n\t\t\t\t{ ...props }\n\t\t\t\tref={ forwardedRef }\n\t\t\t/>\n\t\t);\n\t}\n);\n\nconst slotNameContext = createContext< string | undefined >( undefined );\n\nconst UnforwardedPopover = (\n\tprops: Omit<\n\t\tWordPressComponentProps< PopoverProps, 'div', false >,\n\t\t// To avoid overlaps between the standard HTML attributes and the props\n\t\t// expected by `framer-motion`, omit all framer motion props from popover\n\t\t// props (except for `animate` and `children`, which are re-defined in `PopoverProps`).\n\t\tkeyof Omit< MotionProps, 'animate' | 'children' >\n\t>,\n\tforwardedRef: ForwardedRef< any >\n) => {\n\tconst {\n\t\tanimate = true,\n\t\theaderTitle,\n\t\tonClose,\n\t\tchildren,\n\t\tclassName,\n\t\tnoArrow = true,\n\t\tposition,\n\t\tplacement: placementProp = 'bottom-start',\n\t\toffset: offsetProp = 0,\n\t\tfocusOnMount = 'firstElement',\n\t\tanchor,\n\t\texpandOnMobile,\n\t\tonFocusOutside,\n\t\t__unstableSlotName = SLOT_NAME,\n\t\tflip = true,\n\t\tresize = true,\n\t\tshift = false,\n\t\tvariant,\n\n\t\t// Deprecated props\n\t\t__unstableForcePosition,\n\t\tanchorRef,\n\t\tanchorRect,\n\t\tgetAnchorRect,\n\t\tisAlternate,\n\n\t\t// Rest\n\t\t...contentProps\n\t} = props;\n\n\tlet computedFlipProp = flip;\n\tlet computedResizeProp = resize;\n\tif ( __unstableForcePosition !== undefined ) {\n\t\tdeprecated( '`__unstableForcePosition` prop in wp.components.Popover', {\n\t\t\tsince: '6.1',\n\t\t\tversion: '6.3',\n\t\t\talternative: '`flip={ false }` and  `resize={ false }`',\n\t\t} );\n\n\t\t// Back-compat, set the `flip` and `resize` props\n\t\t// to `false` to replicate `__unstableForcePosition`.\n\t\tcomputedFlipProp = ! __unstableForcePosition;\n\t\tcomputedResizeProp = ! __unstableForcePosition;\n\t}\n\n\tif ( anchorRef !== undefined ) {\n\t\tdeprecated( '`anchorRef` prop in wp.components.Popover', {\n\t\t\tsince: '6.1',\n\t\t\talternative: '`anchor` prop',\n\t\t} );\n\t}\n\n\tif ( anchorRect !== undefined ) {\n\t\tdeprecated( '`anchorRect` prop in wp.components.Popover', {\n\t\t\tsince: '6.1',\n\t\t\talternative: '`anchor` prop',\n\t\t} );\n\t}\n\n\tif ( getAnchorRect !== undefined ) {\n\t\tdeprecated( '`getAnchorRect` prop in wp.components.Popover', {\n\t\t\tsince: '6.1',\n\t\t\talternative: '`anchor` prop',\n\t\t} );\n\t}\n\n\tconst computedVariant = isAlternate ? 'toolbar' : variant;\n\tif ( isAlternate !== undefined ) {\n\t\tdeprecated( '`isAlternate` prop in wp.components.Popover', {\n\t\t\tsince: '6.2',\n\t\t\talternative: \"`variant` prop with the `'toolbar'` value\",\n\t\t} );\n\t}\n\n\tconst arrowRef = useRef< HTMLElement | null >( null );\n\n\tconst [ fallbackReferenceElement, setFallbackReferenceElement ] =\n\t\tuseState< HTMLSpanElement | null >( null );\n\tconst [ referenceOwnerDocument, setReferenceOwnerDocument ] = useState<\n\t\tDocument | undefined\n\t>();\n\n\tconst anchorRefFallback: RefCallback< HTMLSpanElement > = useCallback(\n\t\t( node ) => {\n\t\t\tsetFallbackReferenceElement( node );\n\t\t},\n\t\t[]\n\t);\n\n\tconst isMobileViewport = useViewportMatch( 'medium', '<' );\n\tconst isExpanded = expandOnMobile && isMobileViewport;\n\tconst hasArrow = ! isExpanded && ! noArrow;\n\tconst normalizedPlacementFromProps = position\n\t\t? positionToPlacement( position )\n\t\t: placementProp;\n\n\t/**\n\t * Offsets the position of the popover when the anchor is inside an iframe.\n\t *\n\t * Store the offset in a ref, due to constraints with floating-ui:\n\t * https://floating-ui.com/docs/react-dom#variables-inside-middleware-functions.\n\t */\n\tconst frameOffsetRef = useRef( getFrameOffset( referenceOwnerDocument ) );\n\n\tconst middleware = [\n\t\t...( placementProp === 'overlay' ? overlayMiddlewares() : [] ),\n\t\t// Custom middleware which adjusts the popover's position by taking into\n\t\t// account the offset of the anchor's iframe (if any) compared to the page.\n\t\t{\n\t\t\tname: 'frameOffset',\n\t\t\tfn( { x, y }: MiddlewareArguments ) {\n\t\t\t\tif ( ! frameOffsetRef.current ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tx,\n\t\t\t\t\t\ty,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tx: x + frameOffsetRef.current.x,\n\t\t\t\t\ty: y + frameOffsetRef.current.y,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t// This will be used in the customLimitShift() function.\n\t\t\t\t\t\tamount: frameOffsetRef.current,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\toffsetMiddleware( offsetProp ),\n\t\tcomputedFlipProp ? flipMiddleware() : undefined,\n\t\tcomputedResizeProp\n\t\t\t? size( {\n\t\t\t\t\tapply( sizeProps ) {\n\t\t\t\t\t\tconst { firstElementChild } =\n\t\t\t\t\t\t\trefs.floating.current ?? {};\n\n\t\t\t\t\t\t// Only HTMLElement instances have the `style` property.\n\t\t\t\t\t\tif ( ! ( firstElementChild instanceof HTMLElement ) )\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t// Reduce the height of the popover to the available space.\n\t\t\t\t\t\tObject.assign( firstElementChild.style, {\n\t\t\t\t\t\t\tmaxHeight: `${ sizeProps.availableHeight }px`,\n\t\t\t\t\t\t\toverflow: 'auto',\n\t\t\t\t\t\t} );\n\t\t\t\t\t},\n\t\t\t  } )\n\t\t\t: undefined,\n\t\tshift\n\t\t\t? shiftMiddleware( {\n\t\t\t\t\tcrossAxis: true,\n\t\t\t\t\tlimiter: customLimitShift(),\n\t\t\t\t\tpadding: 1, // Necessary to avoid flickering at the edge of the viewport.\n\t\t\t  } )\n\t\t\t: undefined,\n\t\tarrow( { element: arrowRef } ),\n\t].filter(\n\t\t( m: Middleware | undefined ): m is Middleware => m !== undefined\n\t);\n\tconst slotName = useContext( slotNameContext ) || __unstableSlotName;\n\tconst slot = useSlot( slotName );\n\n\tlet onDialogClose;\n\n\tif ( onClose || onFocusOutside ) {\n\t\tonDialogClose = ( type: string | undefined, event: SyntheticEvent ) => {\n\t\t\t// Ideally the popover should have just a single onClose prop and\n\t\t\t// not three props that potentially do the same thing.\n\t\t\tif ( type === 'focus-outside' && onFocusOutside ) {\n\t\t\t\tonFocusOutside( event );\n\t\t\t} else if ( onClose ) {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t};\n\t}\n\n\tconst [ dialogRef, dialogProps ] = useDialog( {\n\t\tfocusOnMount,\n\t\t__unstableOnClose: onDialogClose,\n\t\t// @ts-expect-error The __unstableOnClose property needs to be deprecated first (see https://github.com/WordPress/gutenberg/pull/27675)\n\t\tonClose: onDialogClose,\n\t} );\n\n\tconst {\n\t\t// Positioning coordinates\n\t\tx,\n\t\ty,\n\t\t// Callback refs (not regular refs). This allows the position to be updated.\n\t\t// when either elements change.\n\t\treference: referenceCallbackRef,\n\t\tfloating,\n\t\t// Object with \"regular\" refs to both \"reference\" and \"floating\"\n\t\trefs,\n\t\t// Type of CSS position property to use (absolute or fixed)\n\t\tstrategy,\n\t\tupdate,\n\t\tplacement: computedPlacement,\n\t\tmiddlewareData: { arrow: arrowData },\n\t} = useFloating( {\n\t\tplacement:\n\t\t\tnormalizedPlacementFromProps === 'overlay'\n\t\t\t\t? undefined\n\t\t\t\t: normalizedPlacementFromProps,\n\t\tmiddleware,\n\t\twhileElementsMounted: ( referenceParam, floatingParam, updateParam ) =>\n\t\t\tautoUpdate( referenceParam, floatingParam, updateParam, {\n\t\t\t\tanimationFrame: true,\n\t\t\t} ),\n\t} );\n\n\tconst arrowCallbackRef = useCallback(\n\t\t( node: HTMLElement | null ) => {\n\t\t\tarrowRef.current = node;\n\t\t\tupdate();\n\t\t},\n\t\t[ update ]\n\t);\n\n\t// When any of the possible anchor \"sources\" change,\n\t// recompute the reference element (real or virtual) and its owner document.\n\n\tconst anchorRefTop = ( anchorRef as PopoverAnchorRefTopBottom | undefined )\n\t\t?.top;\n\tconst anchorRefBottom = (\n\t\tanchorRef as PopoverAnchorRefTopBottom | undefined\n\t )?.bottom;\n\tconst anchorRefStartContainer = ( anchorRef as Range | undefined )\n\t\t?.startContainer;\n\tconst anchorRefCurrent = ( anchorRef as PopoverAnchorRefReference )\n\t\t?.current;\n\n\tuseLayoutEffect( () => {\n\t\tconst resultingReferenceOwnerDoc = getReferenceOwnerDocument( {\n\t\t\tanchor,\n\t\t\tanchorRef,\n\t\t\tanchorRect,\n\t\t\tgetAnchorRect,\n\t\t\tfallbackReferenceElement,\n\t\t\tfallbackDocument: document,\n\t\t} );\n\t\tconst scale = getFrameScale( resultingReferenceOwnerDoc );\n\t\tconst resultingReferenceElement = getReferenceElement( {\n\t\t\tanchor,\n\t\t\tanchorRef,\n\t\t\tanchorRect,\n\t\t\tgetAnchorRect,\n\t\t\tfallbackReferenceElement,\n\t\t\tscale,\n\t\t} );\n\n\t\treferenceCallbackRef( resultingReferenceElement );\n\n\t\tsetReferenceOwnerDocument( resultingReferenceOwnerDoc );\n\t}, [\n\t\tanchor,\n\t\tanchorRef,\n\t\tanchorRefTop,\n\t\tanchorRefBottom,\n\t\tanchorRefStartContainer,\n\t\tanchorRefCurrent,\n\t\tanchorRect,\n\t\tgetAnchorRect,\n\t\tfallbackReferenceElement,\n\t\treferenceCallbackRef,\n\t] );\n\n\t// If the reference element is in a different ownerDocument (e.g. iFrame),\n\t// we need to manually update the floating's position as the reference's owner\n\t// document scrolls. Also update the frame offset if the view resizes.\n\tuseLayoutEffect( () => {\n\t\tif (\n\t\t\t// Reference and root documents are the same.\n\t\t\treferenceOwnerDocument === document ||\n\t\t\t// Reference and floating are in the same document.\n\t\t\treferenceOwnerDocument === refs.floating.current?.ownerDocument ||\n\t\t\t// The reference's document has no view (i.e. window)\n\t\t\t// or frame element (ie. it's not an iframe).\n\t\t\t! referenceOwnerDocument?.defaultView?.frameElement\n\t\t) {\n\t\t\tframeOffsetRef.current = undefined;\n\t\t\treturn;\n\t\t}\n\n\t\tconst { defaultView } = referenceOwnerDocument;\n\t\tconst { frameElement } = defaultView;\n\n\t\tconst scrollContainer = frameElement\n\t\t\t? getScrollContainer( frameElement )\n\t\t\t: null;\n\n\t\tconst updateFrameOffset = () => {\n\t\t\tframeOffsetRef.current = getFrameOffset( referenceOwnerDocument );\n\t\t\tupdate();\n\t\t};\n\t\tdefaultView.addEventListener( 'resize', updateFrameOffset );\n\t\tscrollContainer?.addEventListener( 'scroll', updateFrameOffset );\n\n\t\tupdateFrameOffset();\n\n\t\treturn () => {\n\t\t\tdefaultView.removeEventListener( 'resize', updateFrameOffset );\n\t\t\tscrollContainer?.removeEventListener( 'scroll', updateFrameOffset );\n\t\t};\n\t}, [ referenceOwnerDocument, update, refs.floating ] );\n\n\tconst mergedFloatingRef = useMergeRefs( [\n\t\tfloating,\n\t\tdialogRef,\n\t\tforwardedRef,\n\t] );\n\n\t// Disable reason: We care to capture the _bubbled_ events from inputs\n\t// within popover as inferring close intent.\n\n\tlet content = (\n\t\t// eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n\t\t// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n\t\t<AnimatedWrapper\n\t\t\tshouldAnimate={ animate && ! isExpanded }\n\t\t\tplacement={ computedPlacement }\n\t\t\tclassName={ classnames( 'components-popover', className, {\n\t\t\t\t'is-expanded': isExpanded,\n\t\t\t\t'is-positioned': x !== null && y !== null,\n\t\t\t\t// Use the 'alternate' classname for 'toolbar' variant for back compat.\n\t\t\t\t[ `is-${\n\t\t\t\t\tcomputedVariant === 'toolbar'\n\t\t\t\t\t\t? 'alternate'\n\t\t\t\t\t\t: computedVariant\n\t\t\t\t}` ]: computedVariant,\n\t\t\t} ) }\n\t\t\t{ ...contentProps }\n\t\t\tref={ mergedFloatingRef }\n\t\t\t{ ...dialogProps }\n\t\t\ttabIndex={ -1 }\n\t\t\tstyle={\n\t\t\t\tisExpanded\n\t\t\t\t\t? undefined\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tposition: strategy,\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t// `x` and `y` are framer-motion specific props and are shorthands\n\t\t\t\t\t\t\t// for `translateX` and `translateY`. Currently it is not possible\n\t\t\t\t\t\t\t// to use `translateX` and `translateY` because those values would\n\t\t\t\t\t\t\t// be overridden by the return value of the\n\t\t\t\t\t\t\t// `placementToMotionAnimationProps` function in `AnimatedWrapper`\n\t\t\t\t\t\t\tx: computePopoverPosition( x ),\n\t\t\t\t\t\t\ty: computePopoverPosition( y ),\n\t\t\t\t\t  }\n\t\t\t}\n\t\t>\n\t\t\t{ /* Prevents scroll on the document */ }\n\t\t\t{ isExpanded && <ScrollLock /> }\n\t\t\t{ isExpanded && (\n\t\t\t\t<div className=\"components-popover__header\">\n\t\t\t\t\t<span className=\"components-popover__header-title\">\n\t\t\t\t\t\t{ headerTitle }\n\t\t\t\t\t</span>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"components-popover__close\"\n\t\t\t\t\t\ticon={ close }\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t\t<div className=\"components-popover__content\">{ children }</div>\n\t\t\t{ hasArrow && (\n\t\t\t\t<div\n\t\t\t\t\tref={ arrowCallbackRef }\n\t\t\t\t\tclassName={ [\n\t\t\t\t\t\t'components-popover__arrow',\n\t\t\t\t\t\t`is-${ computedPlacement.split( '-' )[ 0 ] }`,\n\t\t\t\t\t].join( ' ' ) }\n\t\t\t\t\tstyle={ {\n\t\t\t\t\t\tleft:\n\t\t\t\t\t\t\ttypeof arrowData?.x !== 'undefined' &&\n\t\t\t\t\t\t\tNumber.isFinite( arrowData.x )\n\t\t\t\t\t\t\t\t? `${\n\t\t\t\t\t\t\t\t\t\tarrowData.x +\n\t\t\t\t\t\t\t\t\t\t( frameOffsetRef.current?.x ?? 0 )\n\t\t\t\t\t\t\t\t  }px`\n\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\ttop:\n\t\t\t\t\t\t\ttypeof arrowData?.y !== 'undefined' &&\n\t\t\t\t\t\t\tNumber.isFinite( arrowData.y )\n\t\t\t\t\t\t\t\t? `${\n\t\t\t\t\t\t\t\t\t\tarrowData.y +\n\t\t\t\t\t\t\t\t\t\t( frameOffsetRef.current?.y ?? 0 )\n\t\t\t\t\t\t\t\t  }px`\n\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<ArrowTriangle />\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</AnimatedWrapper>\n\t);\n\n\tif ( slot.ref ) {\n\t\tcontent = <Fill name={ slotName }>{ content }</Fill>;\n\t}\n\n\tif ( anchorRef || anchorRect || anchor ) {\n\t\treturn content;\n\t}\n\n\treturn <span ref={ anchorRefFallback }>{ content }</span>;\n};\n\n/**\n * `Popover` renders its content in a floating modal. If no explicit anchor is passed via props, it anchors to its parent element by default.\n *\n * ```jsx\n * import { Button, Popover } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * const MyPopover = () => {\n * \tconst [ isVisible, setIsVisible ] = useState( false );\n * \tconst toggleVisible = () => {\n * \t\tsetIsVisible( ( state ) => ! state );\n * \t};\n *\n * \treturn (\n * \t\t<Button variant=\"secondary\" onClick={ toggleVisible }>\n * \t\t\tToggle Popover!\n * \t\t\t{ isVisible && <Popover>Popover is toggled!</Popover> }\n * \t\t</Button>\n * \t);\n * };\n * ```\n *\n */\nexport const Popover = forwardRef( UnforwardedPopover );\n\nfunction PopoverSlot(\n\t{ name = SLOT_NAME }: { name?: string },\n\tref: ForwardedRef< any >\n) {\n\treturn (\n\t\t<Slot\n\t\t\t// @ts-expect-error Need to type `SlotFill`\n\t\t\tbubblesVirtually\n\t\t\tname={ name }\n\t\t\tclassName=\"popover-slot\"\n\t\t\tref={ ref }\n\t\t/>\n\t);\n}\n\n// @ts-expect-error For Legacy Reasons\nPopover.Slot = forwardRef( PopoverSlot );\n// @ts-expect-error For Legacy Reasons\nPopover.__unstableSlotNameProvider = slotNameContext.Provider;\n\nexport default Popover;\n"],"mappings":"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"}