{"version":3,"names":["classnames","useInstanceId","useMergeRefs","__","Icon","search","closeSmall","forwardRef","useRef","Button","BaseControl","UnforwardedSearchControl","__nextHasNoMarginBottom","className","onChange","onKeyDown","value","label","placeholder","hideLabelFromVision","help","onClose","restProps","forwardedRef","searchRef","instanceId","SearchControl","id","renderRightButton","createElement","icon","onClick","current","focus","ref","type","event","target","autoComplete"],"sources":["@wordpress/components/src/search-control/index.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useInstanceId, useMergeRefs } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { Icon, search, closeSmall } from '@wordpress/icons';\nimport { forwardRef, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport BaseControl from '../base-control';\nimport type { WordPressComponentProps } from '../ui/context/wordpress-component';\nimport type { SearchControlProps } from './types';\nimport type { ForwardedRef } from 'react';\n\nfunction UnforwardedSearchControl(\n\t{\n\t\t__nextHasNoMarginBottom,\n\t\tclassName,\n\t\tonChange,\n\t\tonKeyDown,\n\t\tvalue,\n\t\tlabel,\n\t\tplaceholder = __( 'Search' ),\n\t\thideLabelFromVision = true,\n\t\thelp,\n\t\tonClose,\n\t\t...restProps\n\t}: WordPressComponentProps< SearchControlProps, 'input', false >,\n\tforwardedRef: ForwardedRef< HTMLInputElement >\n) {\n\tconst searchRef = useRef< HTMLInputElement >();\n\tconst instanceId = useInstanceId( SearchControl );\n\tconst id = `components-search-control-${ instanceId }`;\n\n\tconst renderRightButton = () => {\n\t\tif ( onClose ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Close search' ) }\n\t\t\t\t\tonClick={ onClose }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tif ( !! value ) {\n\t\t\treturn (\n\t\t\t\t<Button\n\t\t\t\t\ticon={ closeSmall }\n\t\t\t\t\tlabel={ __( 'Reset search' ) }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( '' );\n\t\t\t\t\t\tsearchRef.current?.focus();\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn <Icon icon={ search } />;\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\t__nextHasNoMarginBottom={ __nextHasNoMarginBottom }\n\t\t\tlabel={ label }\n\t\t\tid={ id }\n\t\t\thideLabelFromVision={ hideLabelFromVision }\n\t\t\thelp={ help }\n\t\t\tclassName={ classnames( className, 'components-search-control' ) }\n\t\t>\n\t\t\t<div className=\"components-search-control__input-wrapper\">\n\t\t\t\t<input\n\t\t\t\t\t{ ...restProps }\n\t\t\t\t\tref={ useMergeRefs( [ searchRef, forwardedRef ] ) }\n\t\t\t\t\tclassName=\"components-search-control__input\"\n\t\t\t\t\tid={ id }\n\t\t\t\t\ttype=\"search\"\n\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\tonChange={ ( event ) => onChange( event.target.value ) }\n\t\t\t\t\tonKeyDown={ onKeyDown }\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t/>\n\t\t\t\t<div className=\"components-search-control__icon\">\n\t\t\t\t\t{ renderRightButton() }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</BaseControl>\n\t);\n}\n\n/**\n * SearchControl components let users display a search control.\n *\n * ```jsx\n * import { SearchControl } from '@wordpress/components';\n * import { useState } from '@wordpress/element';\n *\n * function MySearchControl( { className, setState } ) {\n *   const [ searchInput, setSearchInput ] = useState( '' );\n *\n *   return (\n *     <SearchControl\n *       value={ searchInput }\n *       onChange={ setSearchInput }\n *     />\n *   );\n * }\n * ```\n */\nexport const SearchControl = forwardRef( UnforwardedSearchControl );\n\nexport default SearchControl;\n"],"mappings":";AAAA;AACA;AACA;AACA,OAAOA,UAAU,MAAM,YAAY;;AAEnC;AACA;AACA;AACA,SAASC,aAAa,EAAEC,YAAY,QAAQ,oBAAoB;AAChE,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,IAAI,EAAEC,MAAM,EAAEC,UAAU,QAAQ,kBAAkB;AAC3D,SAASC,UAAU,EAAEC,MAAM,QAAQ,oBAAoB;;AAEvD;AACA;AACA;AACA,OAAOC,MAAM,MAAM,WAAW;AAC9B,OAAOC,WAAW,MAAM,iBAAiB;AAKzC,SAASC,wBAAwBA,CAChC;EACCC,uBAAuB;EACvBC,SAAS;EACTC,QAAQ;EACRC,SAAS;EACTC,KAAK;EACLC,KAAK;EACLC,WAAW,GAAGf,EAAE,CAAE,QAAS,CAAC;EAC5BgB,mBAAmB,GAAG,IAAI;EAC1BC,IAAI;EACJC,OAAO;EACP,GAAGC;AAC2D,CAAC,EAChEC,YAA8C,EAC7C;EACD,MAAMC,SAAS,GAAGhB,MAAM,CAAqB,CAAC;EAC9C,MAAMiB,UAAU,GAAGxB,aAAa,CAAEyB,aAAc,CAAC;EACjD,MAAMC,EAAE,GAAI,6BAA6BF,UAAY,EAAC;EAEtD,MAAMG,iBAAiB,GAAGA,CAAA,KAAM;IAC/B,IAAKP,OAAO,EAAG;MACd,OACCQ,aAAA,CAACpB,MAAM;QACNqB,IAAI,EAAGxB,UAAY;QACnBW,KAAK,EAAGd,EAAE,CAAE,cAAe,CAAG;QAC9B4B,OAAO,EAAGV;MAAS,CACnB,CAAC;IAEJ;IAEA,IAAK,CAAC,CAAEL,KAAK,EAAG;MACf,OACCa,aAAA,CAACpB,MAAM;QACNqB,IAAI,EAAGxB,UAAY;QACnBW,KAAK,EAAGd,EAAE,CAAE,cAAe,CAAG;QAC9B4B,OAAO,EAAGA,CAAA,KAAM;UACfjB,QAAQ,CAAE,EAAG,CAAC;UACdU,SAAS,CAACQ,OAAO,EAAEC,KAAK,CAAC,CAAC;QAC3B;MAAG,CACH,CAAC;IAEJ;IAEA,OAAOJ,aAAA,CAACzB,IAAI;MAAC0B,IAAI,EAAGzB;IAAQ,CAAE,CAAC;EAChC,CAAC;EAED,OACCwB,aAAA,CAACnB,WAAW;IACXE,uBAAuB,EAAGA,uBAAyB;IACnDK,KAAK,EAAGA,KAAO;IACfU,EAAE,EAAGA,EAAI;IACTR,mBAAmB,EAAGA,mBAAqB;IAC3CC,IAAI,EAAGA,IAAM;IACbP,SAAS,EAAGb,UAAU,CAAEa,SAAS,EAAE,2BAA4B;EAAG,GAElEgB,aAAA;IAAKhB,SAAS,EAAC;EAA0C,GACxDgB,aAAA;IAAA,GACMP,SAAS;IACdY,GAAG,EAAGhC,YAAY,CAAE,CAAEsB,SAAS,EAAED,YAAY,CAAG,CAAG;IACnDV,SAAS,EAAC,kCAAkC;IAC5Cc,EAAE,EAAGA,EAAI;IACTQ,IAAI,EAAC,QAAQ;IACbjB,WAAW,EAAGA,WAAa;IAC3BJ,QAAQ,EAAKsB,KAAK,IAAMtB,QAAQ,CAAEsB,KAAK,CAACC,MAAM,CAACrB,KAAM,CAAG;IACxDD,SAAS,EAAGA,SAAW;IACvBuB,YAAY,EAAC,KAAK;IAClBtB,KAAK,EAAGA,KAAK,IAAI;EAAI,CACrB,CAAC,EACFa,aAAA;IAAKhB,SAAS,EAAC;EAAiC,GAC7Ce,iBAAiB,CAAC,CAChB,CACD,CACO,CAAC;AAEhB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMF,aAAa,GAAGnB,UAAU,CAAEI,wBAAyB,CAAC;AAEnE,eAAee,aAAa"}