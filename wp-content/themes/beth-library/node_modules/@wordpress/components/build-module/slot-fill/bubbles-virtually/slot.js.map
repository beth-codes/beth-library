{"version":3,"names":["useRef","useLayoutEffect","useContext","forwardRef","useMergeRefs","SlotFillContext","Slot","name","fillProps","as","Component","props","forwardedRef","registerSlot","unregisterSlot","registry","ref","updateSlot","createElement"],"sources":["@wordpress/components/src/slot-fill/bubbles-virtually/slot.js"],"sourcesContent":["// @ts-nocheck\n/**\n * WordPress dependencies\n */\nimport {\n\tuseRef,\n\tuseLayoutEffect,\n\tuseContext,\n\tforwardRef,\n} from '@wordpress/element';\nimport { useMergeRefs } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport SlotFillContext from './slot-fill-context';\n\nfunction Slot(\n\t{ name, fillProps = {}, as: Component = 'div', ...props },\n\tforwardedRef\n) {\n\tconst { registerSlot, unregisterSlot, ...registry } =\n\t\tuseContext( SlotFillContext );\n\tconst ref = useRef();\n\n\tuseLayoutEffect( () => {\n\t\tregisterSlot( name, ref, fillProps );\n\t\treturn () => {\n\t\t\tunregisterSlot( name, ref );\n\t\t};\n\t\t// Ignore reason: We don't want to unregister and register the slot whenever\n\t\t// `fillProps` change, which would cause the fill to be re-mounted. Instead,\n\t\t// we can just update the slot (see hook below).\n\t\t// For more context, see https://github.com/WordPress/gutenberg/pull/44403#discussion_r994415973\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [ registerSlot, unregisterSlot, name ] );\n\t// fillProps may be an update that interacts with the layout, so we\n\t// useLayoutEffect.\n\tuseLayoutEffect( () => {\n\t\tregistry.updateSlot( name, fillProps );\n\t} );\n\n\treturn (\n\t\t<Component ref={ useMergeRefs( [ forwardedRef, ref ] ) } { ...props } />\n\t);\n}\n\nexport default forwardRef( Slot );\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA,SACCA,MAAM,EACNC,eAAe,EACfC,UAAU,EACVC,UAAU,QACJ,oBAAoB;AAC3B,SAASC,YAAY,QAAQ,oBAAoB;;AAEjD;AACA;AACA;AACA,OAAOC,eAAe,MAAM,qBAAqB;AAEjD,SAASC,IAAIA,CACZ;EAAEC,IAAI;EAAEC,SAAS,GAAG,CAAC,CAAC;EAAEC,EAAE,EAAEC,SAAS,GAAG,KAAK;EAAE,GAAGC;AAAM,CAAC,EACzDC,YAAY,EACX;EACD,MAAM;IAAEC,YAAY;IAAEC,cAAc;IAAE,GAAGC;EAAS,CAAC,GAClDb,UAAU,CAAEG,eAAgB,CAAC;EAC9B,MAAMW,GAAG,GAAGhB,MAAM,CAAC,CAAC;EAEpBC,eAAe,CAAE,MAAM;IACtBY,YAAY,CAAEN,IAAI,EAAES,GAAG,EAAER,SAAU,CAAC;IACpC,OAAO,MAAM;MACZM,cAAc,CAAEP,IAAI,EAAES,GAAI,CAAC;IAC5B,CAAC;IACD;IACA;IACA;IACA;IACA;EACD,CAAC,EAAE,CAAEH,YAAY,EAAEC,cAAc,EAAEP,IAAI,CAAG,CAAC;EAC3C;EACA;EACAN,eAAe,CAAE,MAAM;IACtBc,QAAQ,CAACE,UAAU,CAAEV,IAAI,EAAEC,SAAU,CAAC;EACvC,CAAE,CAAC;EAEH,OACCU,aAAA,CAACR,SAAS;IAACM,GAAG,EAAGZ,YAAY,CAAE,CAAEQ,YAAY,EAAEI,GAAG,CAAG,CAAG;IAAA,GAAML;EAAK,CAAI,CAAC;AAE1E;AAEA,eAAeR,UAAU,CAAEG,IAAK,CAAC"}