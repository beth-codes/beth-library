{"version":3,"names":["_element","require","_reakit","_compose","_view","_toggleGroupControlBackdrop","_interopRequireDefault","_context","_hooks","UnforwardedToggleGroupControlAsRadioGroup","children","isAdaptiveWidth","label","onChange","size","value","otherProps","forwardedRef","containerRef","useRef","resizeListener","sizes","useResizeObserver","baseId","useInstanceId","ToggleGroupControlAsRadioGroup","toString","radio","useRadioState","state","previousValue","usePrevious","useUpdateEffect","setState","createElement","default","Provider","isBlock","RadioGroup","as","View","ref","useMergeRefs","containerWidth","width","forwardRef","exports"],"sources":["@wordpress/components/src/toggle-group-control/toggle-group-control/as-radio-group.tsx"],"sourcesContent":["/**\n * External dependencies\n */\nimport type { ForwardedRef } from 'react';\n// eslint-disable-next-line no-restricted-imports\nimport { RadioGroup, useRadioState } from 'reakit';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tuseMergeRefs,\n\tuseInstanceId,\n\tusePrevious,\n\tuseResizeObserver,\n} from '@wordpress/compose';\nimport { forwardRef, useRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { View } from '../../view';\nimport ToggleGroupControlBackdrop from './toggle-group-control-backdrop';\nimport ToggleGroupControlContext from '../context';\nimport { useUpdateEffect } from '../../utils/hooks';\nimport type { WordPressComponentProps } from '../../ui/context';\nimport type { ToggleGroupControlMainControlProps } from '../types';\n\nfunction UnforwardedToggleGroupControlAsRadioGroup(\n\t{\n\t\tchildren,\n\t\tisAdaptiveWidth,\n\t\tlabel,\n\t\tonChange,\n\t\tsize,\n\t\tvalue,\n\t\t...otherProps\n\t}: WordPressComponentProps<\n\t\tToggleGroupControlMainControlProps,\n\t\t'div',\n\t\tfalse\n\t>,\n\tforwardedRef: ForwardedRef< HTMLDivElement >\n) {\n\tconst containerRef = useRef();\n\tconst [ resizeListener, sizes ] = useResizeObserver();\n\tconst baseId = useInstanceId(\n\t\tToggleGroupControlAsRadioGroup,\n\t\t'toggle-group-control-as-radio-group'\n\t).toString();\n\tconst radio = useRadioState( {\n\t\tbaseId,\n\t\tstate: value,\n\t} );\n\tconst previousValue = usePrevious( value );\n\n\t// Propagate radio.state change.\n\tuseUpdateEffect( () => {\n\t\t// Avoid calling onChange if radio state changed\n\t\t// from incoming value.\n\t\tif ( previousValue !== radio.state ) {\n\t\t\tonChange( radio.state );\n\t\t}\n\t}, [ radio.state ] );\n\n\t// Sync incoming value with radio.state.\n\tuseUpdateEffect( () => {\n\t\tif ( value !== radio.state ) {\n\t\t\tradio.setState( value );\n\t\t}\n\t}, [ value ] );\n\n\treturn (\n\t\t<ToggleGroupControlContext.Provider\n\t\t\tvalue={ { ...radio, isBlock: ! isAdaptiveWidth, size } }\n\t\t>\n\t\t\t<RadioGroup\n\t\t\t\t{ ...radio }\n\t\t\t\taria-label={ label }\n\t\t\t\tas={ View }\n\t\t\t\t{ ...otherProps }\n\t\t\t\tref={ useMergeRefs( [ containerRef, forwardedRef ] ) }\n\t\t\t>\n\t\t\t\t{ resizeListener }\n\t\t\t\t<ToggleGroupControlBackdrop\n\t\t\t\t\tstate={ radio.state }\n\t\t\t\t\tcontainerRef={ containerRef }\n\t\t\t\t\tcontainerWidth={ sizes.width }\n\t\t\t\t\tisAdaptiveWidth={ isAdaptiveWidth }\n\t\t\t\t/>\n\t\t\t\t{ children }\n\t\t\t</RadioGroup>\n\t\t</ToggleGroupControlContext.Provider>\n\t);\n}\n\nexport const ToggleGroupControlAsRadioGroup = forwardRef(\n\tUnforwardedToggleGroupControlAsRadioGroup\n);\n"],"mappings":";;;;;;;AAgBA,IAAAA,QAAA,GAAAC,OAAA;AAXA,IAAAC,OAAA,GAAAD,OAAA;AAKA,IAAAE,QAAA,GAAAF,OAAA;AAWA,IAAAG,KAAA,GAAAH,OAAA;AACA,IAAAI,2BAAA,GAAAC,sBAAA,CAAAL,OAAA;AACA,IAAAM,QAAA,GAAAD,sBAAA,CAAAL,OAAA;AACA,IAAAO,MAAA,GAAAP,OAAA;AAxBA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AASA;AACA;AACA;;AAQA,SAASQ,yCAAyCA,CACjD;EACCC,QAAQ;EACRC,eAAe;EACfC,KAAK;EACLC,QAAQ;EACRC,IAAI;EACJC,KAAK;EACL,GAAGC;AAKJ,CAAC,EACDC,YAA4C,EAC3C;EACD,MAAMC,YAAY,GAAG,IAAAC,eAAM,EAAC,CAAC;EAC7B,MAAM,CAAEC,cAAc,EAAEC,KAAK,CAAE,GAAG,IAAAC,0BAAiB,EAAC,CAAC;EACrD,MAAMC,MAAM,GAAG,IAAAC,sBAAa,EAC3BC,8BAA8B,EAC9B,qCACD,CAAC,CAACC,QAAQ,CAAC,CAAC;EACZ,MAAMC,KAAK,GAAG,IAAAC,qBAAa,EAAE;IAC5BL,MAAM;IACNM,KAAK,EAAEd;EACR,CAAE,CAAC;EACH,MAAMe,aAAa,GAAG,IAAAC,oBAAW,EAAEhB,KAAM,CAAC;;EAE1C;EACA,IAAAiB,sBAAe,EAAE,MAAM;IACtB;IACA;IACA,IAAKF,aAAa,KAAKH,KAAK,CAACE,KAAK,EAAG;MACpChB,QAAQ,CAAEc,KAAK,CAACE,KAAM,CAAC;IACxB;EACD,CAAC,EAAE,CAAEF,KAAK,CAACE,KAAK,CAAG,CAAC;;EAEpB;EACA,IAAAG,sBAAe,EAAE,MAAM;IACtB,IAAKjB,KAAK,KAAKY,KAAK,CAACE,KAAK,EAAG;MAC5BF,KAAK,CAACM,QAAQ,CAAElB,KAAM,CAAC;IACxB;EACD,CAAC,EAAE,CAAEA,KAAK,CAAG,CAAC;EAEd,OACC,IAAAf,QAAA,CAAAkC,aAAA,EAAC3B,QAAA,CAAA4B,OAAyB,CAACC,QAAQ;IAClCrB,KAAK,EAAG;MAAE,GAAGY,KAAK;MAAEU,OAAO,EAAE,CAAE1B,eAAe;MAAEG;IAAK;EAAG,GAExD,IAAAd,QAAA,CAAAkC,aAAA,EAAChC,OAAA,CAAAoC,UAAU;IAAA,GACLX,KAAK;IACV,cAAaf,KAAO;IACpB2B,EAAE,EAAGC,UAAM;IAAA,GACNxB,UAAU;IACfyB,GAAG,EAAG,IAAAC,qBAAY,EAAE,CAAExB,YAAY,EAAED,YAAY,CAAG;EAAG,GAEpDG,cAAc,EAChB,IAAApB,QAAA,CAAAkC,aAAA,EAAC7B,2BAAA,CAAA8B,OAA0B;IAC1BN,KAAK,EAAGF,KAAK,CAACE,KAAO;IACrBX,YAAY,EAAGA,YAAc;IAC7ByB,cAAc,EAAGtB,KAAK,CAACuB,KAAO;IAC9BjC,eAAe,EAAGA;EAAiB,CACnC,CAAC,EACAD,QACS,CACuB,CAAC;AAEvC;AAEO,MAAMe,8BAA8B,GAAG,IAAAoB,mBAAU,EACvDpC,yCACD,CAAC;AAACqC,OAAA,CAAArB,8BAAA,GAAAA,8BAAA"}