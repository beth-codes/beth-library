"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = useCommandLoader;
var _element = require("@wordpress/element");
var _data = require("@wordpress/data");
var _store = require("../store");
/**
 * WordPress dependencies
 */

/**
 * Internal dependencies
 */

/**
 * Attach a command loader to the command palette.
 *
 * @param {import('../store/actions').WPCommandLoaderConfig} loader command loader config.
 */
function useCommandLoader(loader) {
  const {
    registerCommandLoader,
    unregisterCommandLoader
  } = (0, _data.useDispatch)(_store.store);
  (0, _element.useEffect)(() => {
    registerCommandLoader({
      name: loader.name,
      hook: loader.hook,
      context: loader.context
    });
    return () => {
      unregisterCommandLoader(loader.name);
    };
  }, [loader.name, loader.hook, loader.context, registerCommandLoader, unregisterCommandLoader]);
}
//# sourceMappingURL=use-command-loader.js.map