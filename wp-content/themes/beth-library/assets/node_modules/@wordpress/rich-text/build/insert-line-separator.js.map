{"version":3,"names":["_insert","require","_specialCharacters","insertLineSeparator","value","startIndex","start","endIndex","end","beforeText","text","slice","previousLineSeparatorIndex","lastIndexOf","LINE_SEPARATOR","previousLineSeparatorFormats","replacements","valueToInsert","formats","insert"],"sources":["@wordpress/rich-text/src/insert-line-separator.js"],"sourcesContent":["/**\n * Internal dependencies\n */\n\nimport { insert } from './insert';\nimport { LINE_SEPARATOR } from './special-characters';\n\n/** @typedef {import('./types').RichTextValue} RichTextValue */\n\n/**\n * Insert a line break character into a Rich Text value at the given\n * `startIndex`. Any content between `startIndex` and `endIndex` will be\n * removed. Indices are retrieved from the selection if none are provided.\n *\n * @param {RichTextValue} value        Value to modify.\n * @param {number}        [startIndex] Start index.\n * @param {number}        [endIndex]   End index.\n *\n * @return {RichTextValue} A new value with the value inserted.\n */\nexport function insertLineSeparator(\n\tvalue,\n\tstartIndex = value.start,\n\tendIndex = value.end\n) {\n\tconst beforeText = value.text.slice( 0, startIndex );\n\tconst previousLineSeparatorIndex = beforeText.lastIndexOf( LINE_SEPARATOR );\n\tconst previousLineSeparatorFormats =\n\t\tvalue.replacements[ previousLineSeparatorIndex ];\n\tlet replacements = [ , ];\n\n\tif ( previousLineSeparatorFormats ) {\n\t\treplacements = [ previousLineSeparatorFormats ];\n\t}\n\n\tconst valueToInsert = {\n\t\tformats: [ , ],\n\t\treplacements,\n\t\ttext: LINE_SEPARATOR,\n\t};\n\n\treturn insert( value, valueToInsert, startIndex, endIndex );\n}\n"],"mappings":";;;;;;AAIA,IAAAA,OAAA,GAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAD,OAAA;AALA;AACA;AACA;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,mBAAmBA,CAClCC,KAAK,EACLC,UAAU,GAAGD,KAAK,CAACE,KAAK,EACxBC,QAAQ,GAAGH,KAAK,CAACI,GAAG,EACnB;EACD,MAAMC,UAAU,GAAGL,KAAK,CAACM,IAAI,CAACC,KAAK,CAAE,CAAC,EAAEN,UAAW,CAAC;EACpD,MAAMO,0BAA0B,GAAGH,UAAU,CAACI,WAAW,CAAEC,iCAAe,CAAC;EAC3E,MAAMC,4BAA4B,GACjCX,KAAK,CAACY,YAAY,CAAEJ,0BAA0B,CAAE;EACjD,IAAII,YAAY,GAAG,GAAK;EAExB,IAAKD,4BAA4B,EAAG;IACnCC,YAAY,GAAG,CAAED,4BAA4B,CAAE;EAChD;EAEA,MAAME,aAAa,GAAG;IACrBC,OAAO,EAAE,GAAK;IACdF,YAAY;IACZN,IAAI,EAAEI;EACP,CAAC;EAED,OAAO,IAAAK,cAAM,EAAEf,KAAK,EAAEa,aAAa,EAAEZ,UAAU,EAAEE,QAAS,CAAC;AAC5D"}